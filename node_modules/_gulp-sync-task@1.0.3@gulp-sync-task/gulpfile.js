+function()
{
    'use strict';
    var gulp = require('gulp');
    var sync = require('./index.js');

    gulp.task('a', function(callback)
    {
        setTimeout(() =>
        {
            console.log('a');
            sync.callback = callback;
        }, 1000);
    }).task('b', function(callback)
    {
        console.log('b');
        sync.callback = callback;
    }).task('c', function(callback)
    {
        console.log('c');
        sync.callback = callback;
    }).task('d', function(callback)
    {
        return gulp.src('src/**/*.js').pipe(gulp.dest('dist'));
    }).task('z', ['a'], function(callback)
    {
        gulp.start('b')
        // GULP.on('task_stop', () => console.log('SOMETHING HAPENNED')).start('c');
    }).task('@', sync('a', 'b', 'c', 'd'));
}();